FEATURE:
===============================================================================================================
CURRENT:
- alcohol doesn't work after effects rework? contest after c/c2 quitting
- contest - if look_target winner quit it will crash ?
	-? other instances of look_target
? client leave - 3 player tests:
	- talking about round fights, pair can have null, smart ptr?
	- talking before fight
	- when null it will silently add units to tournament_units
	- both units left, no winner will crash
	- tournament winner quit will crash
	? leave before combat
	? leave on combat
	? leave after combat
	? leave when free round
	- things get bugged when c left, no info about him losing, for c there was units standing and doing nothing
? using cheats to exit from arena
	? arena combat
	? arena combat city
	? pvp
	? pvp city
	? tournament
	? tournament city
? angelscript
	? console
	? script
	? if_script
	? negated if
	
-? hero go wander, don't make them wander, SetMode sets city_wander to false
	void HeroData::SetMode(Mode new_mode)
	{
		if(mode == new_mode)
			return;
		mode = new_mode;
		switch(mode)
		{
		case Mode::Follow:
		case Mode::Wander:
		case Mode::Wait:
			assert(unit->IsFollower());
			unit->ai->city_wander = false;
			if(mode == Wander)
				unit->ai->loc_timer = Random(5.f, 10.f);
			break;
		}
	}
-? crash on cleanup for s
void Game::ClearGame()
{
Info("Clearing game.");

draw_batch.Clear();

LeaveLocation(true, false);

if((game_state == GS_WORLDMAP || prev_game_state == GS_WORLDMAP) && open_location == -1 && Net::IsLocal() && !was_client)
{
	for(Unit* unit : Team.members)
	{
		if(unit->bow_instance)
			bow_instances.push_back(unit->bow_instance);
		if(unit->interp)
			interpolators.Free(unit->interp);

		if(unit->ai != (AIController*)1) <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
			delete unit->ai;
		delete unit;
	}

	prev_game_state = GS_LOAD;
}

+ EffectId::MagicResistance multiply
+ anystring to Cstring, don't pass by ref&
+ current train don't handle floats so gain 0 in some cases
+ stamina changes
+ Class is UnitData
	+ load from units.txt, copy
	+ set in HeroData.Init
	+ remove useless flags

+ player Train
Game.h
Game2.cpp
Tournament.cpp
Tutorial.cpp
PlayerContorller.cpp
Unit.cpp
Net.cpp
WorldMapGui.cpp

+ better mobility calculations
Unit.cpp

+ train haggle/cha from trade
Game2.cpp
Net.cpp
Inventory.cpp

===============================================================================================================
NEW:
+ 404 handling on website
+ when npc have item in his inventory and in pc, it will first ask for pc one
+ particles in objects, not hardcoded water_effect, blood_effect
+ remove hardcoded bench variants in base usable
+ remove hardcoded ai to use read papers animation on chair, eat food on stool
+ remove obj_alpha
+ validate objects metadata (required objects, units)
? why version/stats thread start at menu, not while loading
+ randomized order of spawned objects
+ upgrade visual leak detector, fmod, bullet, slikenet, zlib
+ join herodata with unit, anyone can join team etc
+ JoinCost use skill check
+ poison resistance from endurance
+ wisdom: skill/perk/bonus
+ effect PoisonResistance/immunity
+ perk Crafting Tradition
+ amulet pijanego mistrza - im bardziej pijany jest gracz tym większe obrażenia
+ perk: zmniejszenie stłuczeń o 25%, alkohol też zwiększa max o 25%
+ negative traits: for int/wis
+ perk armor: critics protection
+ negative history: pacifist (-to combat skills, +non combat skills, can't take aggressive perk)
+ perk: chance to see encounter and escape before it happens, better encounters
+ better perk names, for example axe master is not upgrade from expert so player have two perks (expert and master)
+ stock scripts in files, using extra_stock perk
+ npc to recruit: merchant
+ server side language != player language will cause some texts to use server language, some will use player language
+ hunters guild, quests (wielki łowczy), bad wolf boss
+ attach sounds to scene node, not to unit
+ ai talking about contest/tournament
===============================================================================================================
VERIFY:
- w questowych lokacjach krew/zwłoki nie znikają
- da sie wlezc w kogos
- ANGLE!
- verify dialogs ending with end/restart
- without human flag and mesh crash when spawned, log error
- ai look at angle nie jest clipowane, albo coś?
- trochę da się widzieć przez ściany :/
? raknet wysyła wiadomości do zdisconnectowanych przy broadcast jeśli nie wyśle jeszcze disconnect
