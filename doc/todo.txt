FEATURE:
*** perks
- changing armor while running have no effect on animation speed, same problem with slows/debuffs etc
+ GetItemPrice change tables
+ set player id to 0 when loading
? food effect leak - unknown when
? perks
	trading contract, extra stock, free merchant, master merchant
? perk flags after save/load/travel
+ perk points
	+ gained by heroes every 3 levels
	? extra perk after winning tournament (only once)
	+ extra perks after finishing important quest
	? MP
		? every two levels for players
		? set initial value
+ subprofile perks
+ training perks
+ use subprofiles in creating random char
+ perks effects
	talent, extra apt
	skill focus, extra apt
	precise shot, bow master
	dodge, light armor master
	educated
	charming
	leadership
	basher
	shield prof, shielder, battle shielder, magic shielder
	heavy armor adaptation weight
	medium/heavy armor master, iron man
	sprint, long distance runner, hyperactive
+ upgrade perks -> set perk flags
? tests
	? old perks load
	? replace old perks, add missing wealthy
	? magic resistance potion
	? loading old effects
	? add_effect (skill/attribute/stamina/health/attack/defense), remove_effect (by netid/effect); memory leaks
	? add_perk, remove_perk, list_perks in MP
	? can take perk master when have expert
	? perk_flags after new game, load, after upgrade, after new game/travel/load in MP
	? all perks in MP
	? trade perks in MP
! changelog
	+ new commands, list types
	+ new perks
	
thinkering:
hp atk def values
atk def formula
protections?
perks bonuses to atk/def/crit
crit chance/damage
rescale food/potions healing values, stamina?
armor gives protection
		
dialog for alchemist apperentice, cheaper potions :)
dialog bandits, different text: solo vs team
hitting menequin, shield (show damage)

*** combat
+ str/dex formula changes
+ required dexterity by weapon
+ train dex when too low for weapon/bow
+ too low str effects (slower attack etc)
+ too low dex effects
+ unarmed attack formula
+ crit chance/mod (backstab, power shot)
+ bleeding (short/long blade expert)
+ bandages - cures bleeding
+ sidestep left/right, roll, jump back
+ power attack glow like in risen
+ enemies with power attacks that can't be blocked
+ can shoot thru allies

*** new enemies
+ units stats, new units
	+ scale
	+ tint
	+ green rat, giant rat
	+ redback spider
	+ blood skeleton (lifesteal)
	+ dire wolf (bigger warg)
	+ giant skeleton
	+ rock zombie
	+ unleveled enemies

+ book bestiary, magic artifacts
+ level in team panel for server
+ ai next attack depends on ONE_HANDED_WEAPON
+ npc leveling according to player leveling (currently max lvl is 20 for them), bonus from leader perk

? test playthru
	? leveling speed
	- trainer train skills are too fast
	- skill rise too fast
	- max level only 20? (well for hp/atk/def/perks only)
	- increased skill/attribute require higher attribute to level up
	- rescale food/potions healing values
	- fix stamina values, use stamina when running ?
	- poor/very wealthy/filthy rich has not much of effect on better equipment now
? test all traps with 2 clients, log playing sounds for all players
! undo FastFunc changes, use new delegates ?

v2:
+ exp, exp from quests
+ int -> exp bonus
+ grab enemy

===============================================================================================================
NEXT:
+ shortcuts bar
+ eating lots of food before combat can grant very fast regeneration for up to 60 sec (honeycomb with healthy diet)..., on the other hand 100 end perk gives only 5 regen/sec, maybe it should be %/sec, limit max active healing from food to 5/10 ?
===============================================================================================================
CURRENT:
- traps are out of sync for client/server
- can talk to unit while it's exiting building, dialog is thru door then
- don't focus chest when there is user
	+ looted is not set/sent
- goblin in forest escape outside map and crashes pathfinding
- sound volume doesn't work except with 0 or >0
- target orc can spawn in closed room with gorush
	19:10:56 INFO  - Generating location 'Podziemia Goldenchasm', seed 1915762242.
	19:10:56 INFO  - Generating dungeon, level 3, target 0.
- NetChange::ADD_LOCATION memory leak for client (T between 2 cities with warp to inn?)
- quitting with sounds attached to player = crash
- arena picks random units and try spawn them at specified levels but it is still limited to max level (for example orc 4)
	it should pirst units at that level, if not possible lower/higher
- archers stupidly come closer to target when out of stamina
- removing player in mp game, update effect will show assert on GetPlayerInfo
- clear remove console history
===============================================================================================================
NEW:
- green screen, cannot reproduce
? using cheats to exit from arena/tournament
- travel on worldmap is a bit out of sync, clicking instantly after travel will error on server, thinking that team not yet entered location, forward prediction should be easy here
- changing vsync reset failed, cannot reproduce
+ 404 handling on website
+ when npc have item in his inventory and in pc, it will first ask for pc one
+ move chest to usables
+ particles in objects, not hardcoded water_effect, blood_effect
+ remove hardcoded bench variants in base usable
+ remove hardcoded ai to use read papers animation on chair, eat food on stool
+ remove obj_alpha
+ validate objects metadata (required objects, units)
? why version/stats thread start at menu, not while loading
- grass under moon well
+ randomized order of spawned objects
+ modify units stats, perks -> will make unit unique
+ poison resistance from endurance
+ wisdom: skill/perk/bonus
+ shield different block types (physical/magical/fire/etc)
+ modify units stats, perks -> will make unit unique
+ skill: weapon style (weapon and shield, single weapon, dual weapons, two handed weapon, pole weapon)
+ shield give mobility penality (small 0, normal 5, big 10, tower 15)
+ ai telling player to wear something if naked
+ group ai - some archers should block enemy, others shoot
+ block without shield (by golems for example)
+ effect PoisonResistance/immunity
+ perk Crafting Tradition
+ amulet pijanego mistrza - im bardziej pijany jest gracz tym większe obrażenia
+ perk: zmniejszenie stłuczeń o 25%, alkohol też zwiększa max o 25%
+ walki w karczmie na pieści
+ negative traits: for int/wis
- Nie można wykonać kopii zapasowej pliku Settings.php - upewnij się, że plik Settings_bak.php istnieje i można go zapisywać.
- www admin layout panel is broken a bit
+ web: load indiedb after ready, fix admin panel
+ shield with spikes (can crit without battle shielder, +5% crit then)
+ perk armor: critics protection
+ negative history: pacifist (-to combat skills, +non combat skills, can't take aggressive perk)
+ perk: chance to see encounter and escape before it happens, better encounters
+ better perk names, for example axe master is not upgrade from expert so player have two perks (expert and master)
+ stock scripts in files, using extra_stock perk
+ npc to recruit: merchant
+ server side validation: trader_buy items
===============================================================================================================
VERIFY:
? da się pogadać gdy leży, wtedy wstaje od razu [da się pogadać jak wstaje]
- w questowych lokacjach krew/zwłoki nie znikają
- da sie wlezc w kogos
- ANGLE!
- (tile?) fov may not work good when near borders
- verify dialogs ending with end/restart
- without human flag and mesh crash when spawned, log error
- debug ai lag is too big!
- magic bullets and fireballs don't hit on client, aims ground, ? argh happened once & i can't reproduce it; draw debug ray when ai is targeting
- ai look at angle nie jest clipowane, albo coś?
- trochę da się widzieć przez ściany :/
? heal and death_screen
? raknet wysyła wiadomości do zdisconnectowanych przy broadcast jeśli nie wyśle jeszcze disconnect
